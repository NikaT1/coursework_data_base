{"remainingRequest":"C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\src\\components\\Main.vue?vue&type=template&id=54d3a52e&scoped=true","dependencies":[{"path":"C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\src\\components\\Main.vue","mtime":1671562132785},{"path":"C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\babel.config.js","mtime":1638527428684},{"path":"C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":499162500000},{"path":"C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtNTRkM2E1MmUiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAibWFpbi1iYWNrZ3JvdW5kIGRpdi1ibG9jayIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJkaXYtYmxvY2siLAogIGlkOiAiZGl2LWlubGluZSIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJkaXYtaW5saW5lIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImRpdi1ibG9jayIsCiAgaWQ6ICJkaXYtYnV0dG9ucyIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJkaXYtYmxvY2siLAogIGlkOiAicmVzdWx0LXRhYmxlIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0hlYWRlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJIZWFkZXIiKTsKCiAgdmFyIF9jb21wb25lbnRfUGljdHVyZUdyYXBoID0gX3Jlc29sdmVDb21wb25lbnQoIlBpY3R1cmVHcmFwaCIpOwoKICB2YXIgX2NvbXBvbmVudF9BcmdzQmxvY2sgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQXJnc0Jsb2NrIik7CgogIHZhciBfY29tcG9uZW50X0J1dHRvbnNCbG9jayA9IF9yZXNvbHZlQ29tcG9uZW50KCJCdXR0b25zQmxvY2siKTsKCiAgdmFyIF9jb21wb25lbnRfUmVzdWx0VGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiUmVzdWx0VGFibGUiKTsKCiAgdmFyIF9jb21wb25lbnRfRm9vdGVyID0gX3Jlc29sdmVDb21wb25lbnQoIkZvb3RlciIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9IZWFkZXIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9QaWN0dXJlR3JhcGgsIHsKICAgIGRhdGE6ICRkYXRhLmRhdGEsCiAgICBwYXJhbV9yOiAkZGF0YS5wYXJhbV9yLAogICAgb25DbGlja09uU1ZHOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmNsaWNrT25TVkcoJGV2ZW50KTsKICAgIH0pCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbImRhdGEiLCAicGFyYW1fciJdKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9BcmdzQmxvY2ssIHsKICAgIGNsYXNzOiAiZGl2LWlubGluZSIsCiAgICBwYXJhbV94OiAkZGF0YS5wYXJhbV94LAogICAgIm9uVXBkYXRlOnBhcmFtX3giOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLnBhcmFtX3ggPSAkZXZlbnQ7CiAgICB9KSwKICAgIHBhcmFtX3I6ICRkYXRhLnBhcmFtX3IsCiAgICAib25VcGRhdGU6cGFyYW1fciI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJGRhdGEucGFyYW1fciA9ICRldmVudDsKICAgIH0pLAogICAgcGFyYW1feTogJGRhdGEucGFyYW1feSwKICAgICJvblVwZGF0ZTpwYXJhbV95IjogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkZGF0YS5wYXJhbV95ID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsicGFyYW1feCIsICJwYXJhbV9yIiwgInBhcmFtX3kiXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X0J1dHRvbnNCbG9jaywgewogICAgYnV0dG9uczogJGRhdGEuYnV0dG9ucywKICAgIG9uR29CYWNrOiAkb3B0aW9ucy5nb0JhY2ssCiAgICBvblN1Ym1pdDogJG9wdGlvbnMuc3VibWl0LAogICAgb25DbGVhcjogJG9wdGlvbnMuY2xlYXIKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiYnV0dG9ucyIsICJvbkdvQmFjayIsICJvblN1Ym1pdCIsICJvbkNsZWFyIl0pXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1Jlc3VsdFRhYmxlLCB7CiAgICBkYXRhOiAkZGF0YS5kYXRhLAogICAgIm9uVXBkYXRlOmRhdGEiOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRkYXRhLmRhdGEgPSAkZXZlbnQ7CiAgICB9KQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJkYXRhIl0pXSldKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRm9vdGVyKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"sources":["C:\\Users\\пользователь\\IdeaProjects\\web4\\src\\frontend\\src\\components\\Main.vue"],"names":[],"mappings":";;;;;;;AAGS,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC,W;AAAY,EAAA,EAAE,EAAC;;;AACnB,EAAA,KAAK,EAAC;;;AAKR,EAAA,KAAK,EAAC,W;AAAY,EAAA,EAAE,EAAC;;;AAIvB,EAAA,KAAK,EAAC,W;AAAY,EAAA,EAAE,EAAC;;;;;;;;;;;;;;;6DAb5B,mBAAA,CAgBM,KAhBN,EAgBM,IAhBN,EAgBM,CAfJ,YAAA,CAAS,iBAAT,CAeI,EAdJ,mBAAA,CAUM,KAVN,EAAA,UAAA,EAUM,CATJ,mBAAA,CAKM,KALN,EAAA,UAAA,EAKM,CAJJ,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,YAAA,CAAgG,uBAAhG,EAAgG;AAA3E,IAAA,IAAI,EAAE,KAAA,CAAA,IAAqE;AAAxD,IAAA,OAAO,EAAE,KAAA,CAAA,OAA+C;AAAjC,IAAA,YAAU,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAAE,QAAA,CAAA,UAAA,CAAW,MAAX,CAAF;AAAA,KAAA;AAAuB,GAAhG,E,IAAA,E;;AAAA,I,mBAAA,CACI,CAFN,CAII,EADJ,YAAA,CAA6G,oBAA7G,EAA6G;AAAlG,IAAA,KAAK,EAAC,YAA4F;AAAvE,IAAA,OAAO,EAAE,KAAA,CAAA,OAA8D;;aAA9D,KAAA,CAAA,O,GAAO,M;MAAuD;AAA7C,IAAA,OAAO,EAAE,KAAA,CAAA,OAAoC;;aAApC,KAAA,CAAA,O,GAAO,M;MAA6B;AAAnB,IAAA,OAAO,EAAE,KAAA,CAAA,OAAU;;aAAV,KAAA,CAAA,O,GAAO,M;;AAAG,GAA7G,E,IAAA,E;;AAAA,I,iCAAA,CACI,CALN,CASI,EAHJ,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,YAAA,CAAqG,uBAArG,EAAqG;AAAhF,IAAA,OAAO,EAAE,KAAA,CAAA,OAAuE;AAAzD,IAAA,QAAM,EAAE,QAAA,CAAA,MAAiD;AAApC,IAAA,QAAM,EAAE,QAAA,CAAA,MAA4B;AAAf,IAAA,OAAK,EAAE,QAAA,CAAA;AAAQ,GAArG,E,IAAA,E;;AAAA,I,8CAAA,CACI,CAFN,CAGI,CAVN,CAcI,EAHJ,mBAAA,CAEM,KAFN,EAAA,UAAA,EAEM,CADJ,YAAA,CAAkC,sBAAlC,EAAkC;AAAb,IAAA,IAAI,EAAE,KAAA,CAAA,IAAO;;aAAP,KAAA,CAAA,I,GAAI,M;;AAAG,GAAlC,E,IAAA,E;;AAAA,I,QAAA,CACI,CAFN,CAGI,CAhBN,C,EAiBA,YAAA,CAAS,iBAAT,C","sourcesContent":["<template>\n  <div>\n    <Header/>\n    <div class=\"main-background div-block\">\n      <div class=\"div-block\" id=\"div-inline\">\n        <div class=\"div-inline\">\n          <PictureGraph v-bind:data=\"data\" v-bind:param_r=\"param_r\" v-on:clickOnSVG=\"clickOnSVG($event)\"/>\n        </div>\n        <ArgsBlock class=\"div-inline\" v-model:param_x=\"param_x\" v-model:param_r=\"param_r\" v-model:param_y=\"param_y\"/>\n      </div>\n      <div class=\"div-block\" id=\"div-buttons\">\n        <ButtonsBlock v-bind:buttons=\"buttons\" v-on:goBack=\"goBack\" v-on:submit=\"submit\" v-on:clear=\"clear\"/>\n      </div>\n    </div>\n    <div class=\"div-block\" id=\"result-table\">\n      <ResultTable v-model:data=\"data\"/>\n    </div>\n  </div>\n  <Footer/>\n</template>\n\n<script>\nimport Header from \"@/components/pcomponents/Header\";\nimport PictureGraph from \"@/components/pcomponents/PictureGraph\";\nimport ButtonsBlock from \"@/components/pcomponents/blocks/ButtonsBlock\";\nimport ResultTable from \"@/components/pcomponents/ResultTable\"\nimport ArgsBlock from \"@/components/pcomponents/blocks/ArgsBlock\";\nimport Footer from \"@/components/pcomponents/Footer\";\n\nexport default {\n  components: {\n    Footer,\n    Header,\n    PictureGraph,\n    ButtonsBlock,\n    ResultTable,\n    ArgsBlock,\n  },\n  name: 'Main',\n  data() {\n    return {\n      param_x: -5,\n      param_y: \"\",\n      param_r: 1,\n      data: new Array(0),\n      buttons: [\n        {msg: 'выйти', command: 'goBack'},\n        {msg: 'результат', command: 'submit'},\n        {msg: 'очистить', command: 'clear'}\n      ],\n    }\n  },\n  created: function () {\n    document.addEventListener('beforeunload', this.handlerClose);\n  },\n  watch: {\n    param_r(val) {\n      this.checkR(val);\n    },\n  },\n  methods: {\n    handleClose() {\n      localStorage.removeItem(\"par\");\n    },\n    goBack() {\n      localStorage.removeItem(\"par\");\n      this.$router.push({name: 'auth-page'});\n    },\n    clickOnSVG() {\n      if (this.checkR(this.param_r)) {\n        this.param_x = (event.offsetX - 100) / 80 * this.param_r;\n        this.param_y = (100 - event.offsetY) / 80 * this.param_r;\n        this.sendRequestWithArgs();\n      } else {\n        alert('Не выбран радиус R!');\n      }\n    },\n    sendRequestWithArgs() {\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\"Content-Type\": \"application/json\", \"Authorization\": \"Bearer \" + localStorage.getItem(\"par\")},\n        body: JSON.stringify({\"x\": this.param_x, \"y\": this.param_y, \"r\": this.param_r})\n      };\n      const address = \"/api/data/add-data\";\n      this.sendRequest(address, requestOptions);\n    },\n    loadData() {\n      const requestOptions = {\n        method: \"GET\",\n        headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"par\")},\n      };\n      const address = \"/api/data/get-data\";\n      this.sendRequestWithData(address, requestOptions);\n    },\n    clear() {\n      const requestOptions = {\n        method: \"DELETE\",\n        headers: {\"Authorization\": \"Bearer \" + localStorage.getItem(\"par\")},\n      };\n      const address = \"/api/data/delete\";\n      this.sendRequest(address, requestOptions);\n      this.data = [];\n      this.param_x = -5;\n      this.param_r = 1;\n      document.querySelector(\".input-with-check\").value = \"\";\n      document.querySelector(\".input-with-check\").classList.remove('error-input');\n    },\n    sendRequestWithData(address, requestOptions) {\n      fetch(address, requestOptions)\n          .then(response => {\n            if (response.ok) return response.json();\n            else {\n              return response.text().then(text => {\n                throw new Error(text)\n              });\n            }\n          }).then(data => {\n        this.data = data;\n      }).catch((e) => {\n        this.showError(e.message);\n      });\n    },\n    sendRequest(address, requestOptions) {\n      fetch(address, requestOptions)\n          .then(response => {\n            if (response.ok) return response;\n            else {\n              return response.text().then(text => {\n                throw new Error(text)\n              });\n            }\n          }).then(() => {\n        this.loadData();\n      }).catch((e) => {\n        this.showError(e.message);\n      });\n    },\n    checkR(r) {\n      const MAX = 3;\n      const MIN = 0;\n      if (!isNaN(r) && parseFloat(r) > MIN && parseFloat(r) <= MAX)\n        return true;\n      else {\n        this.showError(\"R должен быть выбран и находиться в пределах (0;3]\")\n        return false;\n      }\n    },\n    checkY(y) {\n      const MAX = 3;\n      const MIN = -3;\n      if (!isNaN(y) && parseFloat(y) > MIN && parseFloat(y) < MAX) {\n        document.querySelector('.input-with-check').classList.remove('error-input');\n        return true;\n      } else {\n        document.querySelector('.input-with-check').classList.add('error-input');\n        this.showError(\"Y должен быть в пределах от -3 до 3\");\n        return false;\n      }\n    },\n    checkX(x) {\n      const MAX = 3;\n      const MIN = -5;\n      if (!isNaN(x) && parseFloat(x) >= MIN && parseFloat(x) <= MAX)\n        return true;\n      else {\n        this.showError(\"X должен быть выбран и находиться в пределах [-5;3]\")\n        return false;\n      }\n    },\n    submit() {\n      if (this.checkX(this.param_x) && this.checkY(this.param_y) && this.checkR(this.param_r)) this.sendRequestWithArgs();\n    },\n    showError(text) {\n      this.$notify({\n        group: \"error\",\n        title: 'Ошибка',\n        text: text,\n        type: 'error'\n      });\n    }\n  },\n  mounted() {\n    this.loadData();\n  }\n}\n</script>\n<style scoped>\n#div-inline div {\n  vertical-align: middle;\n  margin: 20px 20px 20px;\n  text-align: center;\n}\n\n.main-background > div:first-child {\n  display: table;\n  margin: 0 auto;\n}\n\n#result-table {\n  overflow-x: auto;\n  height: 300px;\n  margin: 10px 20px;\n}\n\n.div-block {\n  display: block;\n}\n\n.div-inline {\n  display: inline-block;\n}\n\n#div-buttons {\n  padding: 1.5% 1.5% 1.5% 1.5%;\n}\n\n@media (max-width: 1228px) {\n  #div-inline div {\n    margin: 10px 10px 10px;\n  }\n}\n\n@media (max-width: 892px) {\n  #div-inline div {\n    margin: 5px 5px 5px;\n  }\n}\n</style>"],"sourceRoot":""}]}